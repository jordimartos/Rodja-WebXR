{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6adf74fa8d16224b47d8","webpack:///./src/essential/aframe-wrapper.ts","webpack:///./src/components/coin-component.ts","webpack:///./src/components/game-manager.ts","webpack:///./src/components/npc-component.ts","webpack:///./src/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WebXRBoilerPlate\"] = factory();\n\telse\n\t\troot[\"WebXRBoilerPlate\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6adf74fa8d16224b47d8","import * as AFrame from 'aframe';\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n// helpers\r\n\r\n/***\r\n * @hidden\r\n */\r\nconst hasMethod = (obj: {}, name: string) => {\r\n  const desc = Object.getOwnPropertyDescriptor(obj, name);\r\n  return !!desc && typeof desc.value === 'function';\r\n};\r\n\r\n/***\r\n * @hidden\r\n */\r\nconst getInstanceMethodNames = (obj: {}, stop: {}) => {\r\n  const array: string[] = [];\r\n  let proto = Object.getPrototypeOf(obj);\r\n  while (proto && proto !== stop) {\r\n    Object.getOwnPropertyNames(proto).forEach(name => {\r\n      if (name !== 'constructor') {\r\n        if (hasMethod(proto, name)) {\r\n          array.push(name);\r\n        }\r\n      }\r\n    });\r\n    proto = Object.getPrototypeOf(proto);\r\n  }\r\n  return array;\r\n};\r\n\r\n/**\r\n * Extend this class to create strongly typed A-Frame components.\r\n * Default implementations for component lifecycle methods such as init(), tick(), and others are provided,\r\n * and can be overridden for your component's specific behavior.\r\n */\r\n\r\nexport abstract class ComponentWrapper<\r\n  SCHEMA extends object = {},\r\n  SYSTEM extends AFrame.System = AFrame.System\r\n> implements AFrame.Component<SCHEMA, SYSTEM> {\r\n  el: AFrame.Entity;\r\n  id: string;\r\n  data: SCHEMA;\r\n  schema: AFrame.Schema<SCHEMA>;\r\n  system: SYSTEM;\r\n  name: string;\r\n  initialized: boolean;\r\n\r\n  constructor(name: string, schema?: AFrame.Schema<SCHEMA>) {\r\n    this.name = name;\r\n    this.schema = schema || {};\r\n  }\r\n\r\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // default aframe core function implementations\r\n\r\n  /**\r\n   * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_remove.\r\n   */\r\n  remove() {}\r\n  /**\r\n   * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_update.\r\n   */\r\n  update(oldData: {}) {}\r\n  /**\r\n   * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_updateschema.\r\n   */\r\n  extendSchema(update: {}) {}\r\n  flushToDOM() {}\r\n\r\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // default aframe core function implementations\r\n\r\n  /**\r\n   * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_init.\r\n   */\r\n  init() {}\r\n  /**\r\n   * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_pause.\r\n   */\r\n  pause() {}\r\n  /**\r\n   * Wraps https://aframe.io/docs/0.8.0/core/component.html#definition_lifecycle_handler_methods_play.\r\n   */\r\n  play() {}\r\n\r\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // special wrapper functions implementations\r\n\r\n  /***\r\n   * @hidden\r\n   */\r\n  merge() {\r\n    const funcs = getInstanceMethodNames(this, Object.prototype);\r\n    funcs.forEach(k => (this[k] = this[k]));\r\n  }\r\n\r\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n  // special wrapper functions implementations\r\n\r\n  destroy() {\r\n    const parent = this.el.parentElement;\r\n    if (parent) {\r\n      parent.removeChild(this.el);\r\n    }\r\n  }\r\n\r\n  register() {\r\n    // unregister any existing component\r\n    if (AFRAME.components[this.name]) {\r\n      console.log(\r\n        `WARNING -- unregistering already registered component with name \"${this.name}\".`\r\n      );\r\n      delete AFRAME.components[this.name];\r\n    }\r\n\r\n    this.merge();\r\n    console.log('registering...');\r\n    AFRAME.registerComponent(this.name, this);\r\n\r\n    return this;\r\n  }\r\n\r\n  registerCallback(callbackName: string, fn: Function) {\r\n    console.log('registerCallback', callbackName);\r\n    this.el.addEventListener(callbackName, fn.bind(this));\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/source-map-loader!./src/essential/aframe-wrapper.ts","import {ComponentWrapper} from '../essential/aframe-wrapper';\r\nimport {EntityBuilder} from '../essential/entity-builder';\r\n\r\nlet coinIndex  = 1;\r\n\r\ninterface CoinComponentSchema {\r\n   canStart: boolean;\r\n}\r\n\r\nexport class CoinComponent extends ComponentWrapper<CoinComponentSchema> {\r\n  constructor() {\r\n    super('coin-component', {\r\n      canStart: {\r\n        type: 'boolean',\r\n        default: false,\r\n      },\r\n    });\r\n  }\r\n\r\n  init() {\r\n    let el = this.el;\r\n    let data = this.data;\r\n   \r\n    let npc = document.getElementById('npc');\r\n    \r\n  \r\n    \r\n    \r\n    //console.log(nextCoin)\r\n\r\n  el.addEventListener('mousedown',function(){\r\n   if(data.canStart)\r\n   { \r\n     console.log('mouseDown');\r\n     moveToNextCoin(npc , el);\r\n     data.canStart = false;\r\n   }\r\n    \r\n  })\r\n\r\n\r\n  }\r\n\r\n  update() {}\r\n start(){\r\n     console.log('start called');\r\n }\r\n  play() {}\r\n\r\n  pause() {}\r\n\r\n  tick() {}\r\n\r\n  remove() {}\r\n\r\n  destroy() {}\r\n\r\n  \r\n}\r\n\r\n\r\nfunction moveToNextCoin(npc_el:any,coin_el:any){\r\n  console.log(\"npc :\"+npc_el+\" coin :\"+coin_el);\r\n  console.log(\"track\"+coinIndex+window.track);\r\n  coin_el.setAttribute('material','color','black');\r\n  coin_el.setAttribute('coin-component','canStart','false');\r\n  npc_el.setAttribute('alongpath','curve','#track'+coinIndex.toString()+window.track);\r\n  npc_el.setAttribute('alongpath','dur','5000');\r\n  let nextCoin_el\r\n  coinIndex ++;\r\n  \r\n     nextCoin_el =document.getElementById(coinIndex.toString()+window.track);\r\n \r\n  \r\n    if(coinIndex < 9 )\r\n    {\r\n      nextCoin_el.setAttribute('coin-component','canStart:true');\r\n      nextCoin_el.setAttribute('material','color:blue');\r\n    }\r\n    \r\n  \r\n\r\n\r\n\r\n\r\n}\r\n\r\nnew CoinComponent().register();\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/source-map-loader!./src/components/coin-component.ts","import {ComponentWrapper} from '../essential/aframe-wrapper';\r\nimport {EntityBuilder} from '../essential/entity-builder';\r\n\r\nlet nextCoinIndex =2;\r\nlet coinMaxNumber = 3;\r\ninterface gameManagerSchema {\r\n  readonly canStart: boolean;\r\n}\r\n\r\n\r\ndeclare global {\r\n    interface Window { track: any; }\r\n}\r\n\r\nwindow.track = window.track || {};\r\n\r\nexport class gameManagerComponent extends ComponentWrapper<gameManagerSchema> {\r\n  constructor() {\r\n    super('game-manager', {\r\n      canStart: {\r\n        type: 'boolean',\r\n        default: false,\r\n      },\r\n    });\r\n  }\r\n\r\n  init() {\r\n   console.log('game manager')\r\n  window.track = \"5\";\r\n   \r\n  }\r\n\r\n  update() {}\r\n \r\n  play() {}\r\n\r\n  pause() {}\r\n\r\n  tick() {}\r\n\r\n  remove() {}\r\n\r\n  destroy() {}\r\n}\r\n\r\n\r\n\r\n\r\nnew gameManagerComponent().register();\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/source-map-loader!./src/components/game-manager.ts","import {ComponentWrapper} from '../essential/aframe-wrapper';\r\nimport {EntityBuilder} from '../essential/entity-builder';\r\n\r\nlet nextCoinIndex =2;\r\nlet coinMaxNumber = 3;\r\ninterface NPCComponentSchema {\r\n  readonly canStart: boolean;\r\n}\r\n\r\nexport class NPCComponent extends ComponentWrapper<NPCComponentSchema> {\r\n  constructor() {\r\n    super('npc-component', {\r\n      canStart: {\r\n        type: 'boolean',\r\n        default: false,\r\n      },\r\n    });\r\n  }\r\n\r\n  init() {\r\n    let el = this.el;\r\n    let data = this.data;\r\n    let nextCoin = document.getElementById(nextCoinIndex.toString());\r\n    console.log('next coin '+nextCoinIndex)\r\n  \r\n    \r\n\r\n  el.addEventListener('movingended',function(){\r\n    /*\r\n    if(nextCoinIndex <= coinMaxNumber)\r\n    {\r\n      let nextCoin = document.getElementById(nextCoinIndex.toString());\r\n    OnArriving(nextCoin);\r\n    }*/\r\n    \r\n  })\r\n\r\n\r\n  }\r\n\r\n  update() {}\r\n \r\n  play() {}\r\n\r\n  pause() {}\r\n\r\n  tick() {}\r\n\r\n  remove() {}\r\n\r\n  destroy() {}\r\n}\r\n\r\n\r\nfunction OnArriving(nextCoin_el:any){\r\n  console.log(\"npc arrived\")\r\n  /*\r\n    nextCoin_el.setAttribute('coin-component','canStart','true');\r\n\r\n    nextCoin_el.setAttribute('material','color','blue');\r\n    nextCoinIndex ++;\r\n    console.log(\"next coin =\"+nextCoinIndex);\r\n    */\r\n   \r\n}\r\n\r\nnew NPCComponent().register();\r\n\n\n\n// WEBPACK FOOTER //\n// ./~/source-map-loader!./src/components/npc-component.ts","\r\n\r\n\r\nimport{NPCComponent} from './components/npc-component'\r\nexport {NPCComponent};\r\nimport {CoinComponent} from './components/coin-component';\r\nexport {CoinComponent};\r\nimport{gameManagerComponent} from './components/game-manager';\r\nexport{gameManagerComponent};\n\n\n// WEBPACK FOOTER //\n// ./~/source-map-loader!./src/index.ts"],"sourceRoot":""}